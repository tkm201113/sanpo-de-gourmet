<h1>Google Map</h1>
<div id="map" style="height: 400px; width: 100%;"></div>

<h2>検索結果</h2>
<%= form_with url: search_maps_path, method: :get, local: true do |form| %>
  <%= form.text_field :query, placeholder: "Enter a location or place" %>
  <%= form.submit "Search" %>
<% end %>

<% if @results.present? %>
  <h2>Search Results</h2>
  <ul>
    <% @results.each do |result| %>
      <li>
        <strong><%= result["name"] %></strong><br>
        <%= result["formatted_address"] %>
      </li>
    <% end %>
  </ul>
<% end %>

<script src="https://maps.googleapis.com/maps/api/js?key=<%= GOOGLE_MAPS_API_KEY %>&callback=initMap" async defer></script>
<script>
  function initMap() {
    const map = new google.maps.Map(document.getElementById('map'), {
      center: { lat: -34.397, lng: 150.644 },
      zoom: 8
    });
  }
</script>